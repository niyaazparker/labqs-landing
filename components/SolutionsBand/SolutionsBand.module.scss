@use '../../styles/variables' as *;

/* -------------------------------------------------------
   Layout shell
------------------------------------------------------- */
.wrap {
  /* desktop seam position (JS keeps this synced to the band above) */
  --split: 52.5%;
  /* gutter to keep content away from the seam */
  --seam-gutter: clamp(24px, 3.2vw, 44px);

  position: relative;
  color: #fff;
  min-height: clamp(680px, 150vh, 1280px);
  overflow: visible;
  padding: clamp(10rem, 10vh, 8rem) 0 clamp(2.5rem, 6vh, 4rem);

  padding-bottom: clamp(10rem, 22vh, 14rem);
}

.bg { position: absolute; inset: 0; z-index: 0; }
.video { width: 100%; height: 100%; object-fit: cover; }

/* -------------------------------------------------------
   Left/right tones driven by --split (desktop)
------------------------------------------------------- */
.leftTone,
.rightTone,
.overlayLeft,
.seam {
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;
}

.leftTone {
  --alpha: .9;
  --left-dark: 46, 79, 128;    /* deep blue */
  --left-light: 107, 141, 195; /* lighter blue */
  --dark-stop: 36%;

  inset: 0;
  right: calc(100% - var(--split));
  z-index: 2;

  background: linear-gradient(
    90deg,
    rgba(var(--left-dark), var(--alpha)) 0 var(--dark-stop),
    rgba(var(--left-light), var(--alpha)) var(--dark-stop) 100%
  );
  filter: saturate(1.1) contrast(1.1) brightness(.88);
}

.rightTone {
  left: var(--split);
  right: 0;
  z-index: 2;
  background: $color-6;
}

.overlayLeft {
  left: 0;
  right: calc(100% - var(--split));
  z-index: 3;
  mix-blend-mode: multiply;
}

/* vertical seam line */
.seam {
  left: var(--split);
  width: 1px;
  z-index: 4;
  background: rgba(255,255,255,.08);
}

/* -------------------------------------------------------
   Content grid
------------------------------------------------------- */
.grid {
  position: relative;
  z-index: 5;
  display: grid;
  grid-template-columns: minmax(320px, 1.05fr) minmax(420px, 1fr);
  align-items: start;
}

/* left panel content positioned near the seam */
.left {
  min-height: clamp(460px, 58vh, 720px);
  display: grid;
  place-items: top end;
}
.leftInner {
  margin-left: auto;                 /* push toward seam */
  max-width: 360px;
  padding-top: 0.5rem;
  gap: 0.625rem;
    display: flex;
    flex-direction: column;
}

.kicker {
  margin: 0 0 .5rem;
  text-transform: uppercase;
  letter-spacing: .22em;
  font-size: .9375rem;
  color: $white;
  opacity: .92;
}

.title {
  margin: 0 0 1.25rem;
  font-family: var(--ff-alt, Georgia, 'Times New Roman', serif);
  letter-spacing: -.01em;
  line-height: 1.15;
  font-size: clamp(2.25rem, 3.4vw, 3rem);
  font-weight: 600;
}

/* CTA pill (matches your other buttons) */
.cta {
  --fill: #4AD7D1; --text-filled: #ffffff;
  position: relative; display: inline-flex; align-items: center; gap: .55rem;
  padding: .65rem 1rem; border-radius: 999px;
  color: var(--fill); text-decoration: none; font-weight: 700; text-transform: uppercase;
  letter-spacing: .12em; font-size: .95rem; isolation: isolate; overflow: hidden;
  transition: color .25s ease, border-color .25s ease;

  &::before {
    content: ""; position: absolute; inset: 0; background: var(--fill);
    transform: scaleX(0); transform-origin: left; transition: transform .35s ease; z-index: 0;
  }
}
.ctaLabel { position: relative; z-index: 1; }
.ctaArrow {
  position: relative; z-index: 1; width: 30px; height: 30px; background-color: currentColor;
  -webkit-mask: url('/icons/next-arrow.svg') center/contain no-repeat;
          mask: url('/icons/next-arrow.svg') center/contain no-repeat;
  transition: transform .35s ease;
}
.cta:hover::before,
.cta:focus-visible::before { transform: scaleX(1); }
.cta:hover, .cta:focus-visible { color: var(--text-filled); border-color: transparent; }
.cta:hover .ctaArrow, .cta:focus-visible .ctaArrow { transform: translateX(4px); }
.cta:focus-visible { outline: 2px solid #4AD7D1; outline-offset: 3px; }

/* right copy */
.right {
  padding-left: var(--seam-gutter);  /* keep away from seam */
  max-width: 66ch;                   /* readable measure */
}
.right p { 
  margin: 0 0 1rem; opacity: .94; line-height: 2rem; font-size: 1.125rem; font-weight: 300; 
  strong { font-weight: 600; }
}

/* -------------------------------------------------------
   Mobile: top video band, solid panel below, thin seam
------------------------------------------------------- */
@media (max-width: $bp-md) {
  .wrap {
    /* ensure any uncovered pixels aren't white between bands */
    --split:100%;
    background: $color-6;
    min-height: unset;
    padding: 0;

    /* unified height for the video band */
    --m-hero: clamp(380px, 54vh, 500px);
  }

  /* turn bg into a fixed-height top band */
  .bg {
    position: absolute;
    inset: 0 auto auto 0;
    width: 100%;
    height: var(--m-hero);
  }

  .rightTone { display: none; }  /* no right slab on mobile */
  .leftTone {
  --dark-stop: 0;
  --alpha: .7;
  }
  .seam { display: none; }       /* hide vertical seam on mobile */

  .grid {
    grid-template-columns: 1fr;
    gap: 0;
  }

  .left {
    min-height: 300px;
    align-items: center;
    display: flex;
    padding: clamp(1.5rem, 4vw, 2rem) clamp(1rem, 4vw, 1.25rem);
    justify-content: center;
  }
  .leftInner {
    margin: 0;               /* centered within band */
    max-width: 26rem;
    padding-right: 0;
    text-align: center;
  }
  .title {
    font-size: clamp(2rem, 7vw, 2.625rem);
    line-height: 1.12;
    margin: 0 0 .75rem;
  }
  .kicker { font-size: .875rem; opacity: .95; }
  .cta { margin-top: .25rem; }

  /* solid right panel underneath with a thin top seam */
  .right {
    position: relative;
    background: $color-6;
    padding: 6.25rem 3.25rem;

    &::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0;
      height: 1px;
      background: rgba(255,255,255,.08); /* horizontal seam */
    }
  }

  .right p {
    line-height: 1.8rem;
    font-size: 1rem;
    text-align: center;
  }
}
